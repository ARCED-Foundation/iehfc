---
title: "Consolidated Report"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output: html_document
params: 
  includeDuplicates: FALSE
  duplicatesData: NULL
  includeOutliers: FALSE
  outliersData: NULL
  includeEnumerator: FALSE
  enumeratorSubsData: NULL
  enumeratorAveData: NULL
  # Add parameters for other checks as needed
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(DT)
library(knitr)
library(kableExtra)
```


```{r duplicates-table, echo=FALSE, results='asis', eval=params$includeDuplicates}
# 1. duplicates
if (!is.null(params$duplicatesData) && nrow(params$duplicatesData) > 0) {
cat("## Duplicates\n")
 knitr::kable(params$duplicatesData) %>%
 kableExtra::kable_styling(bootstrap_options = c("striped", "hover"))
} else {
  cat("No duplicate data available or 'Duplicates' check not selected.")
}
```


```{r outliers-table, echo=FALSE, results='asis', eval=params$includeOutliers}
# 2. outliers
if (!is.null(params$outliersData) && nrow(params$outliersData) > 0) {
cat("## Outliers\n")
 knitr::kable(params$outliersData) %>%
 kableExtra::kable_styling(bootstrap_options = c("striped", "hover"))
} else {
  cat("No outlier data available or 'Outliers' check not selected.")
}
```

```{r enumerator-table-1, echo=FALSE, results='asis', eval=params$includeEnumerator}
# 3.a enumerator
if (!is.null(params$enumeratorSubsData) && nrow(params$enumeratorSubsData) > 0) {
cat("## Enumerator\n")
cat("### Number of Submissions\n")
 knitr::kable(params$enumeratorSubsData) %>%
 kableExtra::kable_styling(bootstrap_options = c("striped", "hover"))
} else {
  cat("No enumerator data available or 'Enumerator' check not selected.")
}
```

```{r enumerator-table-2, echo=FALSE, results='asis', eval=params$includeEnumerator}
# 3.a enumerator
if (!is.null(params$enumeratorAveData) && nrow(params$enumeratorAveData) > 0) {
cat("### Average by Enumerator\n")
 knitr::kable(params$enumeratorAveData) %>%
 kableExtra::kable_styling(bootstrap_options = c("striped", "hover"))
} else {
  cat("No enumerator data available or 'Enumerator' check not selected.")
}
```
